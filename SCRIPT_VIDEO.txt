=====================================================
SCRIPT VIDEO - API REST de Productos
Actividad Sumativa - Unidad 2
Duracion estimada: 12-15 minutos
=====================================================

=====================================================
PARTE 1: INTRODUCCION (1 minuto)
=====================================================

[ESCENA: Pantalla de titulo o escritorio]

LEER:

"Hola, mi nombre es Carlos Andres Carvajal Rivera. En este video presentare mi proyecto de la Actividad Sumativa de la Unidad 2 del modulo Arquitectura de Aplicaciones Web."

"El proyecto consiste en una API REST para gestion de productos, desarrollada con Spring Boot como framework backend y JPA/Hibernate como ORM, conectada a una base de datos Azure SQL Database en la nube."

-----------------------------------------------------

=====================================================
PARTE 2: ARQUITECTURA DEL PROYECTO (3 minutos)
=====================================================

[ESCENA: Abrir IntelliJ - Mostrar estructura de carpetas]

LEER:

"Veamos la arquitectura del proyecto. He organizado el codigo siguiendo una estructura en capas, que es una buena practica de desarrollo."

[Expandir carpeta src/main/java/com/universidad/crud]

"El proyecto esta organizado en los siguientes paquetes:"

"1. Paquete config: Contiene la configuracion de OpenAPI para Swagger, que nos permite documentar y probar la API."

[Hacer clic en OpenApiConfig.java]

"2. Paquete model: Aqui esta la entidad Producto con sus atributos: id, nombre, descripcion, precio, fecha de creacion y fecha de actualizacion."

[Hacer clic en Producto.java - Mostrar los atributos]

"Como pueden ver, usamos las anotaciones de JPA como @Entity, @Id, @GeneratedValue para mapear la clase a la tabla de base de datos. El ORM Hibernate se encarga de crear la tabla automaticamente."

"3. Paquete repository: Contiene el repositorio que extiende de JpaRepository, lo que nos da acceso a metodos CRUD sin escribir SQL manual."

[Hacer clic en ProductoRepository.java]

"4. Paquete service: Aqui esta la logica de negocio. Tenemos una interfaz y su implementacion."

[Hacer clic en ProductoService.java y ProductoServiceImpl.java]

"5. Paquete controller: El controlador REST que expone los endpoints de la API."

[Hacer clic en ProductoController.java - Mostrar los metodos]

"Pueden ver las anotaciones @GetMapping, @PostMapping, @PutMapping y @DeleteMapping que definen cada operacion CRUD."

"6. Paquete dto: Objetos de transferencia de datos para las peticiones y respuestas."

"7. Paquete exception: Manejo global de errores con respuestas consistentes."

-----------------------------------------------------

=====================================================
PARTE 3: CONFIGURACION Y AZURE PORTAL (3 minutos)
=====================================================

[ESCENA: Mostrar archivos de configuracion]

LEER:

"Ahora veamos la configuracion de la base de datos. El proyecto esta conectado a Azure SQL Database."

[Abrir application.properties]

"En el archivo application.properties configuramos el perfil activo como 'azure'."

[Abrir application-azure.properties]

"En application-azure.properties tenemos la cadena de conexion a Azure SQL Database con el servidor 'servidor-productos', la base de datos 'productosdb', y las credenciales."

"El ORM Hibernate esta configurado con ddl-auto=update, lo que significa que crea y actualiza las tablas automaticamente basandose en nuestras entidades Java."

-----------------------------------------------------

[ESCENA: Abrir navegador - portal.azure.com]

LEER:

"Ahora vamos al portal de Azure para mostrar la base de datos en la nube."

[Ir a portal.azure.com - Iniciar sesion si es necesario]

"Aqui estamos en el portal de Azure. Voy a buscar mi servidor SQL."

[Buscar 'servidor-productos' o ir a SQL databases]

"Aqui podemos ver el servidor 'servidor-productos' y la base de datos 'productosdb' que creamos para este proyecto."

[Hacer clic en la base de datos productosdb]

"Podemos ver informacion como la region donde esta alojada, el estado activo, y las metricas de uso."

[OPCIONAL: Ir a Query editor]

"Azure nos permite ejecutar consultas directamente. Vamos al Query Editor."

[Iniciar sesion con admindb / poliDB25]

"Podemos ver que la tabla 'productos' fue creada automaticamente por Hibernate."

[Ejecutar: SELECT * FROM productos]

"Y aqui estan los datos almacenados en la nube."

-----------------------------------------------------

=====================================================
PARTE 4: DEMOSTRACION DEL CRUD CON SWAGGER (5 minutos)
=====================================================

[ESCENA: Volver a IntelliJ - Ejecutar la aplicacion]

LEER:

"Ahora vamos a ejecutar la aplicacion y probar los servicios REST."

[Hacer clic derecho en CrudProductosApplication.java -> Run]

"Ejecutamos la aplicacion desde la clase principal..."

[Esperar a que inicie - mostrar consola]

"Podemos ver en la consola que la aplicacion inicio correctamente en el puerto 8080 y se conecto a Azure SQL Database."

-----------------------------------------------------

[ESCENA: Abrir navegador - http://localhost:8080/swagger-ui.html]

LEER:

"Abrimos Swagger UI en el navegador. Esta herramienta nos permite probar todos los endpoints de forma interactiva."

"Podemos ver los 6 endpoints disponibles para gestionar productos."

-----------------------------------------------------

>>> PRUEBA 1: GET - Obtener todos los productos

[Hacer clic en GET /api/v1/productos -> Try it out -> Execute]

"Primero, probemos el metodo GET para obtener todos los productos. Hacemos clic en 'Try it out' y luego en 'Execute'."

"La respuesta es un codigo 200 OK con un arreglo de productos."

-----------------------------------------------------

>>> PRUEBA 2: POST - Crear un producto

[Hacer clic en POST /api/v1/productos -> Try it out]

"Ahora vamos a crear un nuevo producto usando el metodo POST."

[Escribir en el body:]
{
  "nombre": "Laptop Gaming ASUS",
  "descripcion": "Laptop gaming ASUS ROG con procesador AMD Ryzen 7, 16GB RAM, RTX 3060",
  "precio": 4500000
}

[Hacer clic en Execute]

"Ingresamos los datos del producto: nombre, descripcion y precio. Ejecutamos..."

"Excelente, recibimos un codigo 201 Created, indicando que el producto fue creado exitosamente. Podemos ver que el sistema asigno automaticamente un ID y las fechas de creacion."

-----------------------------------------------------

>>> PRUEBA 3: GET by ID - Obtener producto por ID

[Hacer clic en GET /api/v1/productos/{id} -> Try it out]

"Ahora consultamos el producto que acabamos de crear usando su ID."

[Ingresar el ID del producto creado -> Execute]

"Codigo 200 OK. Aqui estan todos los datos del producto."

-----------------------------------------------------

>>> PRUEBA 4: PUT - Actualizar producto

[Hacer clic en PUT /api/v1/productos/{id} -> Try it out]

"Probemos la actualizacion. Vamos a cambiar el precio del producto."

[Ingresar el ID y modificar el body:]
{
  "nombre": "Laptop Gaming ASUS ROG",
  "descripcion": "Laptop gaming ASUS ROG Strix con procesador AMD Ryzen 9, 32GB RAM, RTX 4070",
  "precio": 6500000
}

[Execute]

"Codigo 200 OK. El producto fue actualizado. Noten que la fecha de actualizacion cambio automaticamente."

-----------------------------------------------------

>>> PRUEBA 5: DELETE - Eliminar producto

[Hacer clic en DELETE /api/v1/productos/{id} -> Try it out]

"Finalmente, probemos el metodo DELETE para eliminar el producto."

[Ingresar el ID -> Execute]

"Codigo 204 No Content. El producto fue eliminado exitosamente."

-----------------------------------------------------

>>> PRUEBA 6: Manejo de errores

[Hacer clic en GET /api/v1/productos/{id} -> Try it out -> Ingresar ID 9999]

"Veamos como la API maneja los errores. Si buscamos un producto que no existe..."

"Recibimos un codigo 404 Not Found con un mensaje descriptivo: 'Producto no encontrado'. Esto demuestra el manejo adecuado de excepciones."

-----------------------------------------------------

=====================================================
PARTE 5: VERIFICAR DATOS EN AZURE (1 minuto)
=====================================================

[ESCENA: Volver al portal de Azure]

LEER:

"Ahora volvamos al portal de Azure para verificar que los cambios se reflejaron en la base de datos en la nube."

[Ir al Query Editor de Azure - productosdb]

[Ejecutar: SELECT * FROM productos]

"Como pueden ver, los productos que creamos desde Swagger estan almacenados en Azure SQL Database. Esto demuestra que nuestra API esta correctamente conectada a la base de datos en la nube."

-----------------------------------------------------

=====================================================
PARTE 6: SUBIDA A GITHUB (2 minutos)
=====================================================

[ESCENA: Abrir terminal en IntelliJ (Alt + F12)]

LEER:

"Ahora mostrare como subir el codigo a GitHub."

[Ejecutar comandos - MOSTRAR CADA UNO]

"Primero verificamos el estado del repositorio con git status."

>>> git status

"Agregamos todos los cambios al staging area."

>>> git add .

"Creamos un commit con un mensaje descriptivo."

>>> git commit -m "Proyecto API REST Productos - Actividad Sumativa U2"

"Finalmente, subimos los cambios al repositorio remoto en GitHub."

>>> git push origin main

"Los cambios se han subido exitosamente."

-----------------------------------------------------

=====================================================
PARTE 7: MOSTRAR REPOSITORIO EN GITHUB (1 minuto)
=====================================================

[ESCENA: Abrir navegador - GitHub]

LEER:

"Ahora veamos el repositorio en GitHub."

[Ir a: https://github.com/sbcarloscarvajal/crud-productos-api]

"Esta es la URL del repositorio: github.com/sbcarloscarvajal/crud-productos-api"

"Podemos ver todo el codigo fuente organizado correctamente: el archivo pom.xml con las dependencias, el README con la documentacion, y la carpeta src con todo el codigo Java."

[Hacer clic en algunas carpetas para mostrar el codigo]

"El repositorio contiene toda la implementacion del proyecto con la arquitectura en capas que mostre anteriormente."

-----------------------------------------------------

=====================================================
PARTE 8: CONCLUSION (30 segundos)
=====================================================

[ESCENA: Volver a mostrar Swagger o el codigo]

LEER:

"En resumen, hemos desarrollado una API REST completa que permite:"
- "Crear productos"
- "Leer productos individuales o todos"
- "Actualizar productos existentes"
- "Eliminar productos"

"Utilizamos Spring Boot como framework, JPA/Hibernate como ORM para la comunicacion con la base de datos Azure SQL, y documentamos la API con Swagger."

"Gracias por su atencion. Este ha sido el proyecto de la Actividad Sumativa - Unidad 2."

=====================================================

=====================================================
CHECKLIST ANTES DE GRABAR
=====================================================

[ ] Aplicacion ejecutandose correctamente
[ ] Swagger UI accesible en http://localhost:8080/swagger-ui.html
[ ] Portal de Azure listo (portal.azure.com)
[ ] Poder acceder al Query Editor de Azure
[ ] Git configurado y listo
[ ] Repositorio de GitHub accesible
[ ] Microfono funcionando
[ ] Pantalla limpia (cerrar programas innecesarios)

=====================================================
ORDEN DE VENTANAS/PESTANAS PARA EL VIDEO
=====================================================

1. IntelliJ IDEA - Con el proyecto abierto
2. Navegador Pestana 1: Swagger UI (http://localhost:8080/swagger-ui.html)
3. Navegador Pestana 2: Portal Azure (portal.azure.com)
4. Navegador Pestana 3: GitHub (github.com/sbcarloscarvajal/crud-productos-api)

=====================================================
URL DEL REPOSITORIO
=====================================================

https://github.com/sbcarloscarvajal/crud-productos-api

=====================================================
Script generado para la Actividad Sumativa - Unidad 2
Modulo: Arquitectura de Aplicaciones Web
=====================================================

